<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8"/>
        <script type="module">
            import Module from './build/Debug/15_preload_file.js';

            let v = 0;

            const monitorRunDependencies = left => console.log(`left ${left}`);

            const locateFile = (path, prefix) => {
                if (path.endsWith(".data")) {
                    return './build/Debug/' + path;
                }

                return prefix + path;
            };

            Module({ arguments: ['data.txt'], monitorRunDependencies, locateFile }).then(emsModule =>
            {
                v = emsModule._increment(v);
                console.log(`return=${v}`);
            });
        </script>
    </head>
    <body>
    </body>
</html>